# Idiosyncrasies of the Vendure Scaffold when trying to Dockerize it

The Vendure scaffold (`npx @vendure/create my-shop`) creates a template project which runs locally via concurrently. It also uses npm workspaces.

As a result, the subdirectory `server` does not generate a package-lock.json when you run `npm install`. In contrast, a package-lock.json does appear in the `storefront` subdirectory after scaffolding. This is likely because the storefront's package-lock.json is generated by the scaffolding process itself (before the workspace configuration takes effect), or it's a remnant from the scaffolding tool's own installation process.

According to npm workspaces behavior, only ONE package-lock.json should exist at the root of the monorepo, and workspace subdirectories should NOT have their own lock files. However, the scaffolding process may create these files before the workspace is fully configured, and npm doesn't automatically delete them afterward.

In my case, I'm fully dockerizing the project (separate containers for: Storefront, Server, Worker, PostgreSQL). Each of these Node.js containers needs its own package-lock.json to ensure that dependencies are installed with consistent, reproducible versions.

Caveat: For me personally, the fact that the root `package.json` contains just concurrently, but its `package-lock.json` contains all the dependencies listed for the my-shop/apps/server subdirectory's is a little out of sync of what I am accustomed to.  When I see only one item in package.json-- I assume that there's only one item in package-lock.json.  So, I didn't necessarily have to archive it-- I could have had the Dockerfile reference the package-lock.json in the root directory rather than server subdirectory.  But for consistency and separation of concerns... I'll keep it archived for clarity.  That said, I am still keeping this as a monorepo structure.  But I am not using concurrently to run things (locally, in dev environment).  And since I am dockerizing the project's main application components, I prefer this separatation-of-concerns structure, despite keeping the project in one monorepo for maintenance simplicity.

**Solution:** I archived the root workspace configuration by moving the root `package.json` to `archived-original-backup/`. This allows each subdirectory (`server` and `storefront`) to function as an independent npm project with its own package-lock.json file, which is what Docker expects.